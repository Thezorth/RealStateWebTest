{% extends './layout.html' %}


{% block body %}

<div class="d-flex p-0 m-0">
    <div class="container-fluid ms-0 position-relative mynbgc w-auto me-0">
      <ul
        class="flex-column text-black text-center p-0 nav mt-2"
        style="width: 256px; max-width: 256px"
      >
        <h2 class="border border-3 border-info rounded-top-5 mb-0 p-3 bg-black text-white">
          {{user.username}}
        </h2>
  
        <ul class="text-center p-0">
          
          <p
          class="border-start border-bottom border-end border-info border-3 p-3 m-0 bg-black"
        >
        <a href="/my_properties" class="text-decoration-none text-white">My Properties</a>
        </p>
        <p
          class="border-start border-bottom border-end border-info border-3 p-3 m-0 bg-black"
        >
        <a href="/profile" class="text-decoration-none text-white">Upload Property</a>
        </p>
  
        </ul>
      </ul>
    </div>


    <div class="container text-white titlesedit">
    <div class="d-flex flex-row justify-content-center border border-2 border-secondary border-bottom-0 border-dark-subtle mynbgc">
        {% if property.saletype == 'sale' %}
        <h1 id="propsaletype" class="text-center m-1">For Sale</h1>
        {% else %}
        <h1 id="propsaletype" class="text-center m-1">For Rent</h1>
        {% endif %}
    </div>
        

    <div id="carouselExample" class="carousel slide carousel-fade border border-2 border-secondary border-bottom-0 border-dark-subtle mynbgc">
        <div class="carousel-inner" style="min-height: 570px;">
        {% for pic in pictures %}
        {% if loop.index == 1 %}
        <div class="carousel-item active" style="height: 100%;">
            <div class="container-fluid d-flex flex-row justify-content-around nav" style="background-color: yellowgreen;">
                    <button class="m-1 ps-2 pe-2 rounded-2">Edit</button>
                    <button class="m-1 ps-2 pe-2 rounded-2">Delete</button>
            </div>
            <img src="{{pic.link}}" id="{{pic.id}}" class="d-block w-50 m-auto" style="height: 570px; width: auto; object-fit: contain;" alt="https://realstate-bucket-tztzt.s3.sa-east-1.amazonaws.com/{{pic.link}}">
        </div>
        {% else %}
        <div class="carousel-item" style="height: 100%;">
          <div class="container-fluid d-flex flex-row justify-content-around nav" style="background-color: yellowgreen;">
            <button class="m-1 ps-2 pe-2 rounded-2">Edit</button>
            <button class="m-1 ps-2 pe-2 rounded-2">Delete</button>
    </div>
            <img src="{{pic.link}}" id="{{pic.id}}" class="d-block w-50 m-auto" style="height: 570px; width: auto; object-fit: contain;" alt="https://realstate-bucket-tztzt.s3.sa-east-1.amazonaws.com/{{pic.link}}">
        </div>
        {% endif %}
        {% endfor %}

        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
        </button>
    </div>

    <div class="d-flex flex-column border border-2 border-secondary border-dark-subtle mynbgc">
        <h4 id="proplocation" class="text-center border border-2 border-secondary border-dark-subtle border-top-0 mb-0 border-end-0 border-start-0">Location: {{property.address}}</h4>
        <div class="d-flex flex-row justify-content-center mt-0">
            <h4 id="propprice" class="flex-fill text-center border border-2 border-secondary border-dark-subtle border-top-0 border-end-0 border-start-0">Price: {{property.value}} $</h4>
            <h4 class="flex-fill text-center border border-2 border-secondary border-dark-subtle border-top-0 border-end-0">Square Meters: xxx</h4>
        </div>
        <h5 class="ps-2">Others: xxxx</h5>
    </div>

    <div class="d-flex justify-content-center mt-1 pb-1">
        <a id='btn_smit' class="btn btn-outline-light">Submit</a>
    </div>


</div>
</div>
<script
  type="module"
  src="{{ url_for('static', filename='js/edit_property.js') }}"
></script>  
<script type="text/javascript">
  const propertyid = '{{ property.id }}'
  const saletype = '{{ property.saletype }}'
  const value = '{{ property.value }}'
  const address = '{{ property.address }}'
</script>
{% endblock %}